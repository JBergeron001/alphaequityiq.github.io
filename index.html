// Page-wide floating/bouncing Greeks (α, θ, Γ, ν) across the full document
(function(){
  const symbols = ['α','θ','Γ','ν','α','θ','Γ','ν'];
  const container = document.getElementById('floatGreeks');
  if (!container) return;

  // Helpers for full-page dimensions
  const docW = () => Math.max(
    document.documentElement.clientWidth,
    document.documentElement.scrollWidth
  );
  const docH = () => Math.max(
    document.documentElement.clientHeight,
    document.documentElement.scrollHeight
  );

  // Ensure container always spans the full document height
  function sizeContainer(){
    container.style.height = docH() + 'px';
    container.style.width  = docW() + 'px';
  }
  sizeContainer();
  window.addEventListener('resize', sizeContainer);

  // If content changes height after load, keep syncing (lightweight observer)
  const ro = new ResizeObserver(sizeContainer);
  ro.observe(document.documentElement);

  // Create items
  const items = symbols.map((s)=>{
    const el = document.createElement('span');
    el.textContent = s;
    container.appendChild(el);

    // Random start position within full page
    const w = docW(), h = docH();
    const x = Math.random() * (w - 40) + 20;
    const y = Math.random() * (h - 40) + 20;

    // Random gentle velocity
    const speed = 0.18 + Math.random()*0.35; // px per frame
    const angle = Math.random()*Math.PI*2;

    // Random size + subtle opacity
    const size = 24 + Math.random()*36;
    el.style.fontSize = size + 'px';
    el.style.opacity  = (0.04 + Math.random()*0.03).toFixed(2);

    return {
      el,
      x, y,
      vx: Math.cos(angle)*speed,
      vy: Math.sin(angle)*speed
    };
  });

  // Animate across the full document area
  function tick(){
    const w = docW(), h = docH();
    const pad = 20;

    for (const it of items){
      it.x += it.vx;
      it.y += it.vy;

      // Bounce off full-page edges
      if (it.x < pad || it.x > w - pad){ it.vx *= -1; it.x = Math.max(pad, Math.min(w - pad, it.x)); }
      if (it.y < pad || it.y > h - pad){ it.vy *= -1; it.y = Math.max(pad, Math.min(h - pad, it.y)); }

      // Position relative to the page (absolute)
      it.el.style.transform = `translate(${it.x}px, ${it.y}px)`;
    }
    requestAnimationFrame(tick);
  }
  tick();
})();
